import{c as h,j as e,L as n,u as b,r,a as N,O as y}from"./index-c51a5212.js";import{L as v}from"./DICT-Banner-Logo-19625be2.js";import{D as S}from"./DTS_logo-b7fd3479.js";import"./axios-7d4ad366.js";import{a as m}from"./axios-82afda87.js";const I=h("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),k=h("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E=()=>e.jsxs("footer",{className:" fixed bottom-0 animate__animated animate__fadeIn  h-10 sm:h-14 flex flex-row items-center justify-between sm:items-center md:flex-col md:items-center md:justify-center px-10 sm:px-0 sm:pl-0  bg-[#163961] w-full text-white ",children:[e.jsx("div",{children:e.jsx("h1",{className:" text-xs text-center font- sm:px-2 sm:text-[8px] ",children:"@2024 Department of Information and Techonology Communication | Misamis Oriental"})}),e.jsx(n,{to:"/dts/developers",children:e.jsxs("p",{className:"  text-xs",children:["Developed by: ",e.jsx("span",{className:" font-semibold hover:underline",children:"Team DTS"})," "]})})]}),B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAINSURBVHgB3VZNTttQEP7GCaVqF82iiahUteEEdStVclilu+7KDfpSDgCcAHOClgu07g3aXXeEVbJrluywhIQgIOQNCAi8YeYFpEQB5wUhFnySPdZ7Y38z8+bHwAOAfBVLdVOaOg1WAA5BlPasXc3aSerzrhdJKTLVJ0Tr8lgdWE7PmD/5EBXGKZRrC4tFwj/lkqvDwKYSiHVhgWjp+ZsPONr+v5H3jVxPKnPfVsAcM3itN404aybZ9d6MeGeBWEL3lUE/9ls/lzEpypExlVqDK5GJ8/R03+nVzPxtOsGtb4uFck+77SRGDnRfQtgUbxYnItFMkjjWScIED7Dlv6r/am7hrTdJ8QShygtGBz6gvl7PXsx6k9w3HjkJkys8bxQlC1XScEfIJwk4+CIiPWgnTXhgt99asqu0H0+iRUjExjd9r2HBq5rGNxXlSFuR6t1S2W39msWEKNca6xqys2l+P9iChjx5GZm6iKplbuAOsH3vq1NHw2czRHIewLETuTOZGAUK3t20PhKuctRIiOD6FhM1Ye2G9Kb0/Ck6gyFwQ0wtLkh3kI/LGRpd1o6930qWckn6RHr46g3XAa90FnIxCPZ3t5X8wThPRgg/mpCKbio6K4mRMQUvrizPfKbj2Ml4vNPZffY63COieQLNSAi1Q392pMzLhx615P0j4SYhBd/FGyGhzLJd8y3WB8ElKGjDftyjqakAAAAASUVORK5CYII=",R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEfSURBVHgB3VWBDYIwEHxcQDZQJ5ARdAIdgQ1kA90AnUA3YARG0A3qBrpB7cuRvATlWzAxXvKpoXf/fns8RL8Ea23sIndRuji6mNKQ4IQujH2FGayQS7QRic/opBTPttQHnACJ9nxcjT3u7oT9nELghCkS7Dp4O/DWFFCEj8R4cEvyAZzEyJT8DPxJ2/7ojS7BeiEdat7Mp8ig+P8iMfnhinWqFRBmk8q+QnNT21i8hCr7Cl2mfikx+Ly6ENoS+vgTaYF/s6CwImvoE/m8efF3rCsKw1zFEpPVwAApOmxOYR49CfZzXPxzYmsLsbAQwi7cwG+99EhRkM+XrcmdHKg60rGLFL+XURRdqS+ErQ0cVHeY0pCw1ZewQJEi1IFfwwOCkZImACzC9AAAAABJRU5ErkJggg==",C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADySURBVHgB7ZX9DYIwEMWvxgEYgQ1khLoBG+gm4gS6gSOoE+gGjAAbqBPUu/iIjQHb4+M/fslLgVxfP7hriWYCmFCAc85yk7FWrJS1N8bcKZLlH2MxPbAsPtVQQkNh8w3rARWs4aaeuXUfylGNvQEqaBLzLWafK/tlsYFnmT0pEHNMahcTLPt+ISVIhNZBftNUlnptMZCOlsLIQC+uk2PzYUFxxOzxE213ciB7TqREVogtKkKBfX6yjTJHcI5gSwpU8ZMWWjMb76hIaQq8iq7wnNLYiCnr5r6UeLcan877gIul5maNc0bOJrlwEhrjPpjxeQNloO43SN+ZDQAAAABJRU5ErkJggg==",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAICAYAAADN5B7xAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB0SURBVHgBfZCxDYAwDATzQVBTpmQMWjaByWATWsagpKSmIPglLFlB5ivrdRdHRtuPXZCc27KHnygXa2BugFULDyZDNlY5Tyw9SWHOZMEhSXm/5ZXzoN+zcJT+kB76UinpVgtzhl1vJY2FP0IplbAbSsm52gMsXj6+RY3oHQAAAABJRU5ErkJggg==";function U({setActive:l,navActive:o}){const d=b(),g=[{name:"account",to:"/dts/home/account"},{name:"audit logs",to:"/dts/home/audit_trail"},{name:"logout",to:"/dts"}];return e.jsxs("div",{className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs("button",{type:"button",onClick:()=>l(!o),className:o?" transition-all duration-150 inline-flex justify-center w-full  rounded-md  px-4 py-2 border border-border text-sm font-medium text-gray-700 bg-gray-50 focus:outline-none   items-center gap-2":" transition-all duration-150 inline-flex justify-center w-full  rounded-md  px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none   items-center gap-2",children:[e.jsx("div",{className:"bg-blue flex items-center justify-center h-5 p-5 w-5 rounded-full  ",children:e.jsxs("p",{className:" font-semibold uppercase text-base text-white",children:[JSON.parse(localStorage.getItem("user")||"").position.substring(0,2)," "]})}),e.jsxs("p",{children:["Welcome, ",JSON.parse(localStorage.getItem("user")||"").first_name," ",JSON.parse(localStorage.getItem("user")||"").last_name,"  ",e.jsx("img",{className:o?" ml-2 w-[10px] object-contain    inline-flex rotate-0 ":" inline-flex  rotate-90  ml-2  w-[10px] object-contain  ",src:Q})]})]})}),o&&e.jsx("div",{className:"origin-top-right absolute w-full right-0 z-20 mt-2  shadow-lg rounded-md overflow-hidden bg-white ring-1 ring-black ring-opacity-5",children:e.jsx("div",{children:g.map((i,A)=>e.jsx("div",{onClick:f=>{f.preventDefault(),d(i.to),i.name=="logout"&&(localStorage.clear(),d(i.to))},className:" block px-4 py-3 text-sm text-center capitalize  hover:bg-blue2/5  cursor-pointer ",children:i.name},A))})})]})}const X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFSSURBVHgB7ZWxa4NAFMbfnSXFQZeKcJkytUsLhUztVOi/3DXQrUsDhXbKXBJQUwoRIQE130ECQU55Rw7i4A+Ow7unn+/ep49oYGDAEaJrM4oi5XnetKqqGyHENXEfKsSyLMtFlmWLthivbUMpNcX0ghHgQVdkh75nEoYh5Xm+Ygsj01tMz3QmdV2PgyBYQ/y/uSdNN+B478gREL83rcuWYEWOgD8i0zqrdqjXK17mkRn7hdjZyfXIFCfpQrAyPmQwY8Zywi6Xcb+PustcTTNx6VfGyGB7+m/uMhfXTE2MGUsp/8gR+IEsjRqmRXSWT3KHsUMZm0RRFLnv+9o4YzoDZDtHa/whrvBBfAXxDWqoaz3itkbtD4wE472rHwuyJI7jJ0wPjeXvJEk+yALrzwm9eo5pfbzGSWxsRTWeZTylaVqiBL9w/gSiOxjxDWXZ0UBf2QNKEYr6Ah1+MQAAAABJRU5ErkJggg==",z=({navActive:l,setActive:o})=>{const[d,g]=r.useState(!1),i=b(),[A,f]=r.useState([]);function j(){m.get("office/all/",{headers:{Authorization:`Token ${localStorage.getItem("keys")} `}}).then(t=>{localStorage.setItem("offices",JSON.stringify(t.data))}).catch(t=>{console.log(t.data)})}function w(t){return t.some(s=>!s.read)}function p(){m.get("notif/by_office/",{headers:{Authorization:`Token ${localStorage.getItem("keys")} `}}).then(t=>{f(t.data),g(w(t.data))}).catch(t=>{console.log(t.data)})}r.useEffect(()=>{j();let t=setInterval(p,2e3);return()=>{clearInterval(t)}},[]);const u=N(),[x,c]=r.useState("Home");return r.useEffect(()=>{const t=u.pathname.split("/").pop();c(t),console.log(t)},[u]),e.jsxs("header",{className:"    flex-col  w-full justify-end z-50 animate__animated animate__slideInDown",children:[e.jsxs("div",{className:" animate__animated animate__slideInDow bg-white flex justify-between items-center w-full  py-5 border-b-[0px] border-accent h-[90px]  ",children:[e.jsx(n,{className:" ml-10 sm:ml-3",onClick:()=>{localStorage.setItem("nav","")},to:"/dts/home/dashboard",children:e.jsx("img",{src:S,className:"  h-12  sm:h-10 object-contain ",alt:"Vite logo"})}),e.jsxs("nav",{className:" relative lg:hidden mr-10  h-full  text-accent-foreground flex gap-20 uppercase items-center",children:[e.jsxs("div",{className:"hover:cursor-pointer relative group  font-fbold h-full flex items-center justify-center  text-xs transition-all  duration-75",children:[" ",e.jsxs("div",{className:" flex items-center gap-2 h-full hover:font-semibold  text-xs font-semibold transition-all duration-75 text-blue",children:[e.jsxs("div",{className:" relative",children:[e.jsx("div",{className:d?" absolute right-0 h-[10px] text-accent flex items-center justify-center w-[10px] rounded-full bg-red-600 text-[9px] p-1 top-0":" hidden"}),e.jsx("img",{className:" h-5 object-contain",alt:"NotifIcon",src:B})]}),"Notifications"]}),e.jsxs("div",{className:"hidden w-[300px]  z-20 group-hover:flex flex-col absolute top-full right-0 bg-accent text-accent-foreground border rounded-sm overflow-hidden shadow-lg",children:[e.jsx("div",{className:" font-fmedium capitalize px-3 py-2  tracking-wider bg-background  text-start text-lg font-bold",children:"Notifications"}),e.jsx("div",{className:" max-h-[300px] overflow-y-scroll",children:A.length!=0?A.map((t,s)=>e.jsxs("div",{onClick:async()=>{await m.patch(`notif/${t.id}/mark_as_read/`,{},{headers:{Authorization:`Token ${localStorage.getItem("keys")}`}}).then(a=>{console.log(a.data.status),p()}),t.document?await m.get(`document/${t.document}`,{headers:{Authorization:`Token ${localStorage.getItem("keys")} `}}).then(a=>{localStorage.setItem("nav","1"),localStorage.setItem("selected",JSON.stringify(a.data)),a.data.status=="Received"?i("/dts/home/document/completed/form"):i("/dts/home/document/process/form")}).catch(a=>{console.log(a)}):await m.get(`gpass/${t.gpass}`,{headers:{Authorization:`Token ${localStorage.getItem("keys")} `}}).then(a=>{localStorage.setItem("nav","2"),localStorage.setItem("selected2",JSON.stringify(a.data)),a.data.status=="Received"?i("/dts/home/gpass/completed/form"):i("/dts/home/gpass/process/form")}).catch(a=>{console.log(a)})},className:" font-fmedium flex items-center capitalize px-3 py-4 text-sm  tracking-wider bg-background hover:bg-blue2/5 gap-2",children:[e.jsx("img",{src:X,className:" h-[30px] object-contain",alt:""}),e.jsxs("div",{className:" flex flex-col gap-0",children:[e.jsx("h1",{className:t.read?" font-semibold":"  font-extrabold",children:t.document?"Documents":"Gatepass"}),e.jsx("p",{className:" text-xs font-semibold ",children:t.by}),e.jsx("p",{className:" text-xs ",children:JSON.parse(t.message)[0]})]})]},s)):e.jsx("div",{className:" font-fmedium flex items-center justify-center capitalize px-3 py-4 text-sm  tracking-wider bg-[#80808005] gap-2",children:e.jsx("p",{children:"No Notification"})})})]})]}),e.jsx(U,{navActive:l,setActive:o})]}),e.jsxs("div",{className:" right-0 top-0 absolute mr-10 sm:mr-4 lg:flex flex-col hidden items-end  justify-end mt-5 pointer-events-none ",children:[l?e.jsx(k,{onClick:()=>{o(!l)},className:" pointer-events-auto mt-3  sm:h-5 sm:w-5   h-8 w-8 text-blue hidden lg:flex cursor-pointer"}):e.jsx(I,{onClick:()=>{o(!l)},className:" pointer-events-auto  mt-3  sm:h-5 sm:w-5  h-8 w-8 text-blue hidden lg:flex cursor-pointer"}),e.jsxs("nav",{className:l?"  relative  z-50 lg:flex flex-col pointer-events-auto transition-all duration-500 text-accent-foreground ml-0  uppercase items-start self-end mt-12 bg-blue3 py-5 w-[300px]  backdrop-blur-md translate-y-[0px]   rounded-md ":" translate-y-[-20px] opacity-0  pointer-events-none   z-50 lg:flex flex-col  transition-all duration-500 text-accent-foreground  ml-20  uppercase items-start self-end mt-12 bg-blue3 py-5 w-[300px]  backdrop-blur-md   rounded-md ",children:[e.jsxs(n,{className:" flex items-center gap-2 hover:font-semibold text-xs transition-all duration-75 text-white h-14 w-full pl-10  hover:bg-yellow",to:"",children:[e.jsx("div",{className:"bg-blue flex items-center justify-center h-5 p-5 w-5 rounded-full",children:e.jsx("p",{className:" font-semibold text-base text-white",children:JSON.parse(localStorage.getItem("user")||"").position.substring(0,2)})}),"Welcome,"," ",JSON.parse(localStorage.getItem("user")||"").first_name," ",JSON.parse(localStorage.getItem("user")||"").last_name," ▼"]}),e.jsxs(n,{className:" flex items-center gap-2 hover:font-semibold text-xs transition-all duration-75 text-white h-14 w-full pl-10  hover:bg-yellow",to:"",children:[e.jsx("img",{className:" h-5 object-contain",alt:"NotifIcon",src:R}),"Notifications"]}),e.jsxs(n,{to:"/dts/",onClick:()=>{localStorage.clear()},className:" flex items-center gap-2 hover:font-semibold text-xs transition-all duration-75 text-white h-14 w-full pl-10  hover:bg-yellow",children:[e.jsx("img",{className:" h-5 object-contain",alt:"OutIcon",src:C}),"Log Out"]})]})]})]}),e.jsxs("nav",{className:" relative bg-[#163961] w-full py-2 flex justify-between h-14",children:[e.jsx(n,{className:" w-[340px] flex  ml-10 sm:ml-3 sm:hidden",to:"/dts/home/dashboard",onClick:()=>{localStorage.setItem("nav","")},children:e.jsx("img",{src:v,className:" h-full  sm:h-10 object-contain ",alt:"Vite logo"})}),e.jsx("div",{className:localStorage.getItem("nav")=="1"||localStorage.getItem("nav")=="2"?" text-white   border-0 w-full flex justify-end  sm:items-center  text-sm    items-center sm:mr-0  mr-20 animate__animated  animate__fadeInLeft ":"hidden",children:(()=>{let t=[];switch(localStorage.getItem("nav")){case"1":return t=[{name:"track",to:"/dts/home/document/track"},{name:"process",to:"/dts/home/document/process"},{name:"completed",to:"/dts/home/document/completed"}],t.map((s,a)=>s.name=="process"?e.jsx(n,{to:s.to,onClick:()=>{c(s.name)},className:x==s.name?" capitalize bg-[#2d77ff] px-4 py-2 text-sm text-center cursor-pointer rounded-full   transition-all duration-150":" capitalize text-sm text-center cursor-pointer px-4 py-2   transition-all duration-150",children:"In Process"},a):e.jsx(n,{to:s.to,onClick:()=>{c(s.name)},className:x==s.name?" capitalize bg-[#2d77ff] px-4 py-2 text-sm text-center cursor-pointer rounded-full   transition-all duration-150":" capitalize text-sm text-center cursor-pointer px-4 py-2   transition-all duration-150",children:s.name},a));case"2":return t=[{name:"track",to:"/dts/home/gpass/track"},{name:"process",to:"/dts/home/gpass/process"},{name:"completed",to:"/dts/home/gpass/completed"}],t.map((s,a)=>s.name=="process"?e.jsx(n,{to:s.to,onClick:()=>{c(s.name)},className:x==s.name?" capitalize bg-[#2d77ff] px-4 py-2 text-sm text-center cursor-pointer rounded-full   transition-all duration-150":" capitalize text-sm text-center cursor-pointer px-4 py-2   transition-all duration-150",children:"In Process"},a):e.jsx(n,{to:s.to,onClick:()=>{c(s.name)},className:x==s.name?" capitalize bg-[#2d77ff] px-4 py-2 text-sm text-center cursor-pointer rounded-full   transition-all duration-150":" capitalize text-sm text-center cursor-pointer px-4 py-2   transition-all duration-150",children:s.name},a));default:return e.jsx("div",{})}})()})]})]})};function T(){const[l,o]=r.useState(!1);return e.jsxs("div",{className:"relative w-full flex flex-col h-screen  overflow-hidden bg-[#ffffff]  box-border",children:[e.jsx(z,{navActive:l,setActive:o}),e.jsx("div",{className:" relative flex-col h-full ",onClick:()=>{console.log("hello world"),o(!1)},children:e.jsx(y,{})}),e.jsx(E,{})]})}export{T as default};
