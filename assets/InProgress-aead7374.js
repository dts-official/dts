import{r as o,u as S,j as e}from"./index-22e87fe1.js";import"./axios-7d4ad366.js";import{s as P}from"./search-e4261d9d.js";import{r as x}from"./index-78e89781.js";import{u as C}from"./debounce-c1044444.js";import{a as L}from"./axios-82afda87.js";const H=[{Header:"Track Number",accessor:"tracknumber"},{Header:"Reason",accessor:"reason"},{Header:"Specific",accessor:"specific"},{Header:"From",accessor:"requestor"},{Header:"Date Submitted",accessor:"datesubmitted"},{Header:"Status",accessor:"status"}];function T({data:d,search:c,name:i}){const{getTableProps:m,getTableBodyProps:p,headerGroups:h,prepareRow:g,page:s,state:y,setGlobalFilter:j,gotoPage:u,nextPage:b,previousPage:f,canPreviousPage:w,canNextPage:v,pageCount:a,setPageSize:N}=x.useTable({columns:H,data:d},x.useGlobalFilter,x.useSortBy,x.usePagination),{pageIndex:r}=y;o.useEffect(()=>{N(10)},[]),o.useEffect(()=>{j(c)},[c]);let k=S();return e.jsxs("div",{className:"  flex flex-col h-full w-full justify-between",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("table",{...m(),className:"w-full text-xs font-light table-fixed",children:e.jsx("thead",{className:"text-violet1 h-[20px]",children:h.map(n=>e.jsx("tr",{...n.getHeaderGroupProps(),className:"border-b border-[#00000013] text-sm",children:n.headers.map(t=>e.jsxs("th",{...t.getHeaderProps(t.getSortByToggleProps()),className:"pl-4 py-2 text-left truncate",children:[t.render("Header"),e.jsx("span",{children:t.isSorted?t.isSortedDesc?e.jsx("span",{children:"▼"}):e.jsx("span",{children:"▲"}):""})]}))}))})}),e.jsx("div",{className:"overflow-y-auto overflow-x-hidden h-full  min-h-[300px]  pb-10 ",children:e.jsx("table",{className:"w-full text-xs font-light table-fixed",children:e.jsx("tbody",{...p(),className:"overflow-hidden w-full",children:s.map(n=>(g(n),e.jsx("tr",{...n.getRowProps(),className:"hover:bg-blue3/10 h-10 border-b border-[#00000013] text-sm font-medium",onClick:()=>{console.log(JSON.stringify(n.original)),localStorage.setItem("selected2",JSON.stringify(n.original)),k("/dts/home/gpass/process/form")},children:n.cells.map(t=>{switch(t.column.id){case"requestor":return e.jsx("td",{className:" h-10 pl-4 py-4 text-left truncate",children:t.row.original.userID==i?"You":t.render("Cell")},t.column.id);case"status":return e.jsx("td",{className:" h-10 pl-4 py-4 text-left truncate",children:e.jsx("button",{className:"rounded-[4px]   border-[1px] text-xs w-1/2 border-textY bg-bgY text-textY font-md px-2 py-1 sm:py-1 sm:px-1 hover:bg-opacity-50 sm:items-center sm:justify-center",children:e.jsx("p",{className:" sm:hidden truncate ",children:"Pending"})})},t.column.id);default:return e.jsxs("td",{className:"h-10 pl-4 py-4 text-left truncate",children:[" ",t.render("Cell")]},t.column.id)}})})))})})})]}),e.jsxs("div",{className:" hidden sm:flex  h-[10%] k w-full items-center bottom-0 self-center mb-2  justify-center gap-4 sm:gap-2 mt-2 bg-blueTable-100 text-center",children:[e.jsx("button",{onClick:()=>f(),disabled:!w,className:`className="flex items-center gap-2 px-6 sm:px-3 sm:p-3 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none hover:bg-gray-900/10 active:bg-orange\r
                                    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),e.jsxs("p",{className:" text-xs",children:[" ",e.jsxs("b",{children:[r+1," "]})," / ",a]}),e.jsx("button",{onClick:()=>b(),disabled:!v,className:`flex items-center gap-2 px-6 sm:px-3 sm:p-3 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none hover:bg-gray-900/10 active:bg-orange\r
                                    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none`,type:"button",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})})]}),e.jsxs("div",{className:" sm:hidden  h-[10%] k w-full items-center bottom-0 self-center mb-2 flex justify-center gap-4 sm:gap-2 mt-2 bg-blueTable-100 text-center",children:[e.jsx("button",{onClick:()=>f(),disabled:!w,className:`className="flex items-center gap-2 px-6 sm:px-3 sm:p-3 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none hover:bg-gray-900/10 active:bg-orange\r
                                    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),r>2&&a>5&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(0),className:" px-3 py-1 border h-9 max-h-[40px] w-9 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-gray-900 transition-all hover:bg-gray-900/10  active:bg-orange disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",children:"1"}),e.jsx("span",{className:"px-3 py-1",children:"..."})]}),Array.from({length:Math.min(5,a)},(n,t)=>{let l;return a<=5||r<3?l=t:r>a-4?l=a-5+t:l=r-2+t,e.jsx("button",{onClick:()=>u(l),className:`px-3 py-1 border  ${r===l?"h-9 max-h-[40px] w-9 max-w-[40px] select-none rounded-lg bg-orange text-center align-middle font-sans text-xs font-medium uppercase text-white shadow-md shadow-gray-900/10 transition-all hover:shadow-lg focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none":"h-9 max-h-[40px] w-9 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-gray-900 transition-all hover:bg-gray-900/10  active:bg-orange disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"}`,children:l+1},l)}),r<a-3&&a>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-3 py-1",children:"..."}),e.jsx("button",{onClick:()=>u(a-1),className:" px-3 py-1 border h-9 max-h-[40px] w-9 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-gray-900 transition-all hover:bg-gray-900/10  active:bg-orange disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",children:a})]}),e.jsx("button",{onClick:()=>b(),disabled:!v,className:`flex items-center gap-2 px-6 sm:px-3 sm:p-3 py-3 font-sans text-xs font-bold text-center text-gray-900 uppercase align-middle transition-all rounded-lg select-none hover:bg-gray-900/10 active:bg-orange\r
                                    disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none`,type:"button",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})})]})]})}const F=()=>{const[d,c]=o.useState([]);o.useEffect(()=>{L.get("gpass/by_office/",{headers:{Authorization:`Token ${localStorage.getItem("keys")}`}}).then(s=>{c(s.data?s.data:[])}).catch(s=>{console.log(s.data)})},[]);const[i,m]=o.useState(""),[p,h]=o.useState(""),g=C({value:i});return o.useEffect(()=>{h(i)},[g]),e.jsx("div",{className:"h-[100vh] w-full flex  items-start justify-center",children:e.jsxs("div",{className:" relative w-[90%] h-[67%] mt-5  sm:w-[90%]  overflow-hidden bg-white rounded-md drop-shadow-md flex flex-col p-10 sm:p-5 gap-10 sm:gap-5 pb-10 ",children:[e.jsxs("div",{className:" sm:gap-5 flex flex-row sm:flex-col items-center w-full sm:items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-black font-poppins font-bold  w-[200px] text-lg eading-normal tracking-tight",children:"On Process"}),e.jsxs("p",{className:"text-teal-500 font-poppins text-m text-base font-normal leading-normal tracking-tight ",children:[" ","All Gate Pass Pending"]})]}),e.jsx("div",{className:"  flex sm:flex-col items-center gap-5 sm:justify-between w-full justify-end  relative sm:gap-5 sm:items-start  ",children:e.jsxs("div",{className:"relative px-3 py-1 border-border border  flex items-center w-[80%] sm:w-full bg-bgW rounded-md m-0  max-w-[200px] sm:max-w-full",children:[e.jsx("input",{value:i,onChange:s=>{m(s.target.value)},placeholder:"Search...",className:"outline-none w-full bg-bgW text-xs pl-7 text-gray-900 py-1 ",type:"search"}),e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none mr-7px-4",children:e.jsx("img",{src:P,alt:"Search",className:"h-5 w-5"})})]})})]}),e.jsx("div",{className:"flex-col max-h-full h-full overflow-hidden ",children:e.jsx(T,{search:p,name:JSON.parse(localStorage.getItem("user")||"").id,data:d?d.filter(s=>s.status==="Pending"?s:!1):""})})]})})};export{F as default};
