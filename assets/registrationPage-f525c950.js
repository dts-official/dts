import{r as a,j as e,L as p}from"./index-8ec54245.js";import{b as _,A as S}from"./Alert-4e293fd4.js";import{L as W}from"./DICT-Banner-Logo-19625be2.js";import"./axios-7d4ad366.js";import{S as b,a as w,b as j,c as g,d as v}from"./select-7fb19d50.js";import{S as C}from"./sweetalert2.all-19467e50.js";import{a as h}from"./axios-82afda87.js";import{L as O}from"./loader-2-06a6ae74.js";import"./chevron-down-6786420b.js";const P=({className:s,label:l,options:n,data:c,setUser:d})=>{const[,x]=a.useState(""),r=o=>{const i=n.find(f=>f.name===o);i&&(d({...c,office:i.officeID}),console.log(i),x(o))};return e.jsxs("div",{className:s+"w-1/2 flex flex-col gap-1",children:[e.jsx("p",{className:" text-textW mb-1 truncate",children:l}),e.jsxs(b,{required:!0,onValueChange:r,children:[e.jsx(w,{className:"  text-start w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4",children:e.jsx(j,{placeholder:"Select Office..."})}),e.jsx(g,{children:n.map(o=>e.jsx(v,{value:o.name,children:o.name}))})]})]})},D=({className:s,label:l,options:n,setUser:c})=>{const[,d]=a.useState(""),x=r=>{const o=n.find(i=>i.name===r);o&&(c(o.name),d(r))};return e.jsxs("div",{className:s+"w-1/2 flex flex-col gap-1 text-white",children:[e.jsx("p",{className:" mb-1 truncate",children:l}),e.jsxs(b,{required:!0,onValueChange:x,children:[e.jsx(w,{className:" text-start w-full h-[40px] bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4",children:e.jsx(j,{placeholder:"Select Position..."})}),e.jsx(g,{children:n.map(r=>e.jsx(v,{value:r.name,children:r.name}))})]})]})};function U(){const[s,l]=a.useState({email:"",first_name:"",last_name:"",password:"",re_password:"",position:"",office:"",acc_lvl:0});a.useEffect(()=>{console.table(s),console.table(u)},[s]);const[n,c]=a.useState(""),[d,x]=a.useState(!1),[r,o]=a.useState(!1),[i,f]=a.useState(!1),N=t=>!(t.length<8||!/\d/.test(t));a.useEffect(()=>{o(N(s.password))},[s.password]),a.useEffect(()=>{s.password==s.re_password&&s.password!=""&&s.re_password!=""?f(!0):f(!1)},[s.password,s.re_password]);const[u,y]=a.useState([]),I=async()=>{await h.get("office/all").then(t=>{y(t.data)}).catch(t=>{t.response?(console.error(t.response.data),console.error(t.response.status),console.error(t.response.headers)):t.request?console.error(t.request):console.error("Error",t.message),console.error(t.config)})};return a.useEffect(()=>{I()},[]),a.useEffect(()=>{const t={"Regional Director":1,"Provincial Officer":2,"Project Development Officer I":3,"Project Development Officer II":3,"Project Development Officer III":3,"Cyber Security Officer I":3,"Cyber Security Officer II":3,"Cyber Security Officer III":3};t[s.position]&&l({...s,acc_lvl:t[s.position]})},[s.position]),e.jsxs("div",{className:" grid grid-cols-6 bg-background h-screen w-screen  flex-row justify-center bg-blue2 overflow-hidden ",children:[e.jsx(p,{to:"/dts/developers",className:"  z-50 absolute text-white bottom-0  p-10 bg-blue2 px-3 py-2 ",children:e.jsxs("p",{className:"  text-xs",children:["Developed by: ",e.jsx("span",{className:" font-semibold hover:underline",children:"DTS Team"})," "]})}),e.jsx("div",{className:" flex md:hidden col-span-4 lg:col-span-3",children:e.jsx("img",{className:" object-cover  w-full animate__animated animate__slideInDown",src:_,alt:"DICT_bg"})}),e.jsx("div",{className:" relative sm:justify-center px-16 lg:col-span-3  col-span-2 md:col-span-6 flex flex-col justify-start items-center h-full w-full   animate__animated animate__slideInUp bg-blue2 mt-20 lg:mt-10 overflow-hidden",children:e.jsxs("form",{className:" flex flex-col min-h-[200px] w-full max-w-[550px] md:max-w-[550px] mb-20 ",onSubmit:async t=>{if(t.preventDefault(),c("s"),i&&r)try{h.post("/users/",s).then(m=>{console.log(m.data),C.fire({icon:"success",title:"Succesfully Registered",showConfirmButton:!1,timer:1500}),l({email:"",first_name:"",last_name:"",password:"",re_password:"",position:"",office:"",acc_lvl:0}),setTimeout(()=>{c("")},3e3)})}catch(m){console.error(m),c("error"),setTimeout(()=>{c("")},3e3)}},children:[e.jsxs("div",{className:" flex flex-col gap-10 mb-5 z-50",children:[e.jsx("img",{className:"  w-[60%] object-contain self-center",src:W,alt:"DICT_bg"}),e.jsx("p",{className:" text-textW text-[25px] font-semibold ",children:"Register Account"})]}),e.jsxs("div",{className:" flex flex-col h-auto w-full overflow-y-scroll hideScroll z-10",children:[e.jsxs("div",{className:"flex flex-row w-full gap-4 mb-3",children:[e.jsxs("div",{className:"flex flex-col w-[50%]",children:[e.jsx("label",{className:" text-textW mb-1",children:" First Name "}),e.jsx("input",{className:" w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"text",name:"first_name",value:s.first_name,onChange:t=>{l({...s,first_name:t.target.value})},required:!0})]}),e.jsxs("div",{className:"flex flex-col w-[50%]",children:[e.jsx("label",{className:" text-textW mb-1",children:" Last Name "}),e.jsx("input",{className:" w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"text",name:"last_name",value:s.last_name,onChange:t=>{l({...s,last_name:t.target.value})},required:!0})]})]}),e.jsxs("div",{className:"flex flex-row w-full gap-4 mb-3",children:[e.jsx(P,{label:"Office Designation",className:"cursor-pointer col-span-3 sm:col-span-1 ",data:s,setUser:l,options:u}),e.jsx(D,{label:"Position",className:"cursor-pointer col-span-3 sm:col-span-1 ",setUser:t=>l({...s,position:t}),options:[{id:1,name:"Regional Director"},{id:2,name:"Provincial Officer"},{id:3,name:"Project Development Officer I"},{id:4,name:"Project Development Officer II"},{id:5,name:"Project Development Officer III"},{id:6,name:"Cyber Security Officer I"},{id:7,name:"Cyber Security Officer II"},{id:8,name:"Cyber Security Officer III"}]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{className:" text-textW mb-1",children:" Email Address "}),e.jsx("input",{className:" w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"email",name:"email",value:s.email,onChange:t=>{l({...s,email:t.target.value})},required:!0})]}),e.jsxs("div",{className:" w-full flex flex-col",children:[e.jsx("label",{className:" text-textW mt-3 mb-1",children:" Password "}),e.jsx("input",{className:"w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"password",name:"password",value:s.password,onChange:t=>{l({...s,password:t.target.value})},required:!0}),r?e.jsx("p",{className:"text-[12px] text-[#15ff00] text-justify mt-2 ",children:"Valid Password"}):e.jsx("p",{className:"text-[12px] text-[#ff4400] text-justify mt-2 ",children:"Password must contain at least 8 characters with uppercase, lowercase, and special characters"})]}),e.jsxs("div",{className:" w-full flex flex-col bg",children:[e.jsx("label",{className:" text-textW mt-3 mb-1",children:" Confirm Password "}),e.jsx("input",{className:"w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"password",name:"re_password",value:s.re_password,onChange:t=>{l({...s,re_password:t.target.value}),x(!0)},required:!0}),d&&(s.password==s.re_password&&s.password.length!=0?e.jsx("p",{className:"text-[12px] text-[#1aff00] text-justify mt-2",children:"Password matched."}):e.jsx("p",{className:"text-[12px] text-[#ff4400] text-justify mt-2",children:"Password doesn't match!"}))]}),e.jsx("div",{className:"w-full flex mt-5",children:e.jsx("p",{className:"text-white text-[12px] text-justify",children:"*By registering, you accept that your data are being stored in accordance with our privacy policy."})}),e.jsx("div",{className:"flex flex-col w-full",children:n?e.jsxs("button",{className:" pointer-events-none text-textW bg-yellow hover:bg-yellow/80 transition-all  duration-75 cursor-pointer text-[18px] w-full h-[45px] mt-6 rounded-full flex items-center justify-center gap-2 ",type:"submit",children:[" Loading ",e.jsx(O,{className:" animate-spin"})," "]}):e.jsx("button",{className:" w-full text-textW bg-yellow hover:bg-yellow/80 transition-all  duration-75 cursor-pointer text-[18px]  h-[45px] mt-6 rounded-full flex items-center justify-center gap-2 self-center",type:"submit",children:" Register Account "})}),e.jsx("hr",{className:"  border-none pb-10"}),e.jsx("div",{className:" flex w-full min-h-[10px] justify-center items-center",children:e.jsxs(p,{to:"/dts/login",className:" text-sm text-accent",children:["Already have an Account? ",e.jsx("b",{className:" hover:underline",children:"Sign In now"})]})}),e.jsx("div",{className:"  flex justify-center items-center bg-white rounded-lg mt-5",children:e.jsx(S,{variant:n})})]})]})})]})}export{U as default};
