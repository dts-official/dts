import{r,j as e,L as h}from"./index-27963596.js";import{b as C}from"./DICT-bg-3a7c86c6.js";import{L as S}from"./DICT-Banner-Logo-19625be2.js";import"./axios-7d4ad366.js";import{S as g,a as b,b as j,c as y,d as v}from"./select-2aa25c31.js";import{S as x}from"./sweetalert2.all-b44e78d1.js";import{a as w}from"./axios-82afda87.js";import{L as P}from"./loader-2-775c9cd0.js";import"./chevron-down-54096798.js";const O=({className:s,label:a,options:c,data:l,setUser:d})=>{const[,f]=r.useState(""),o=n=>{const i=c.find(u=>u.name===n);i&&(d({...l,office:i.officeID}),console.log(i),f(n))};return e.jsxs("div",{className:s+"w-1/2 flex flex-col gap-1",children:[e.jsx("p",{className:" text-textW mb-1 truncate",children:a}),e.jsxs(g,{required:!0,onValueChange:o,children:[e.jsx(b,{className:"  text-start w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4",children:e.jsx(j,{placeholder:"Select Office..."})}),e.jsx(y,{children:c.map(n=>e.jsx(v,{value:n.name,children:n.name}))})]})]})},W=({className:s,label:a,options:c,setUser:l})=>{const[,d]=r.useState(""),f=o=>{const n=c.find(i=>i.name===o);n&&(l(n.name),d(o))};return e.jsxs("div",{className:s+"w-1/2 flex flex-col gap-1 text-white",children:[e.jsx("p",{className:" mb-1 truncate",children:a}),e.jsxs(g,{required:!0,onValueChange:f,children:[e.jsx(b,{className:" text-start w-full h-[40px] bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4",children:e.jsx(j,{placeholder:"Select Position..."})}),e.jsx(y,{children:c.map(o=>e.jsx(v,{value:o.name,children:o.name}))})]})]})};function k(){const[s,a]=r.useState({email:"",first_name:"",last_name:"",password:"",re_password:"",position:"",office:"",acc_lvl:0});r.useEffect(()=>{console.table(s),console.table(p)},[s]);const[c,l]=r.useState(!1),[d,f]=r.useState(!1),[o,n]=r.useState(!1),[i,u]=r.useState(!1),N=t=>!(t.length<8||!/\d/.test(t));r.useEffect(()=>{n(N(s.password))},[s.password]),r.useEffect(()=>{s.password==s.re_password&&s.password!=""&&s.re_password!=""?u(!0):u(!1)},[s.password,s.re_password]);const[p,I]=r.useState([]),_=async()=>{await w.get("office/all").then(t=>{I(t.data)}).catch(t=>{t.response?(console.error(t.response.data),console.error(t.response.status),console.error(t.response.headers)):t.request?console.error(t.request):console.error("Error",t.message),console.error(t.config)})};return r.useEffect(()=>{_()},[]),r.useEffect(()=>{const t={"Regional Director":1,"Provincial Officer":2,"Information Technology Officer I":3,"Information Technology Officer II":3,"Information Technology Officer III":3,"Project Development Officer I":3,"Project Development Officer II":3,"Project Development Officer III":3,"Cyber Security Officer I":3,"Cyber Security Officer II":3,"Cyber Security Officer III":3};t[s.position]&&a({...s,acc_lvl:t[s.position]})},[s.position]),e.jsxs("div",{className:" grid grid-cols-6 bg-background min-h-screen w-screen  flex-row justify-center bg-blue2 overflow-hidden ",children:[e.jsx(h,{to:"/dts/developers",className:"  z-50 fixed text-white bottom-0  p-10 bg-blue2 px-3 py-2 ",children:e.jsxs("p",{className:"  text-xs",children:["Developed by: ",e.jsx("span",{className:" font-semibold hover:underline",children:"DTS Team"})," "]})}),e.jsx("div",{className:" flex md:hidden col-span-4 lg:col-span-3 ",children:e.jsx("img",{className:" object-cover  w-full animate__animated animate__slideInDown",src:C,alt:"DICT_bg"})}),e.jsxs("div",{className:" relative sm:justify-center px-10 lg:col-span-3  col-span-2 md:col-span-6 flex flex-col justify-start items-center h-full w-full  animate__animated animate__slideInUp bg-blue2 mt-20 lg:mt-16 sm:px-10 md:lg:mt-16 sm:mt-2 ",children:[e.jsxs("form",{className:" flex flex-col min-h-[200px] w-full max-w-[550px] md:max-w-[550px]",onSubmit:async t=>{t.preventDefault(),l(!0),i&&o?w.post("/users/",s).then(m=>{console.log(m.data),x.fire({icon:"success",title:"Registration Successful!",text:"A confirmation email has been sent to your registered email address. Please check your inbox and follow the instructions to activate your account.",showConfirmButton:!0,confirmButtonColor:"green",timer:2e4}),a({email:"",first_name:"",last_name:"",password:"",re_password:"",position:"",office:"",acc_lvl:0}),setTimeout(()=>{l(!1)},3e3)}).catch(m=>{console.error(m),m.response.data.email&&(x.fire({icon:"error",title:"Registration Error",text:`An error occurred: ${m.response.data.email[0]} Please try again!`,showConfirmButton:!0,confirmButtonColor:"red",timer:1e4}),setTimeout(()=>{l(!1)},3e3))}):!o&&i?(x.fire({icon:"warning",title:"Invalid Password",text:"Please ensure your password meets the requirements and confirm it by typing again!",showConfirmButton:!0,confirmButtonColor:"orange",timer:1e4}),l(!1)):o&&!i?(x.fire({icon:"warning",title:"Password Mismatch",text:"Your password and confirmation password do not match. Please ensure they are the same and try again!",showConfirmButton:!0,confirmButtonColor:"orange",timer:1e4}),l(!1)):(x.fire({icon:"warning",title:"Invalid Password & Password Mismatch",text:"Please ensure your password meets the requirements and confirm it by typing again!",showConfirmButton:!0,confirmButtonColor:"orange",timer:1e4}),l(!1))},children:[e.jsxs("div",{className:" flex flex-col gap-6 mb-5 ",children:[e.jsx("img",{className:"  w-[60%] object-contain self-center",src:S,alt:"DICT_bg"}),e.jsx("p",{className:" text-textW text-[25px] font-semibold ",children:"Register Account"})]}),e.jsxs("div",{className:" flex flex-col h-auto w-full",children:[e.jsxs("div",{className:"flex flex-row w-full gap-4 mb-3",children:[e.jsxs("div",{className:"flex flex-col w-[50%]",children:[e.jsx("label",{className:" text-textW mb-1",children:" First Name "}),e.jsx("input",{className:" w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"text",name:"first_name",value:s.first_name,onChange:t=>{a({...s,first_name:t.target.value})},required:!0})]}),e.jsxs("div",{className:"flex flex-col w-[50%]",children:[e.jsx("label",{className:" text-textW mb-1",children:" Last Name "}),e.jsx("input",{className:" w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"text",name:"last_name",value:s.last_name,onChange:t=>{a({...s,last_name:t.target.value})},required:!0})]})]}),e.jsxs("div",{className:"flex flex-row w-full gap-4 mb-3",children:[e.jsx(O,{label:"Office Designation",className:"cursor-pointer col-span-3 sm:col-span-1 ",data:s,setUser:a,options:p}),e.jsx(W,{label:"Position",className:"cursor-pointer col-span-3 sm:col-span-1 ",setUser:t=>a({...s,position:t}),options:[{id:1,name:"Regional Director"},{id:2,name:"Provincial Officer"},{id:3,name:"Information Technology Officer I"},{id:4,name:"Information Technology Officer II"},{id:5,name:"Information Technology Officer III"},{id:6,name:"Project Development Officer I"},{id:7,name:"Project Development Officer II"},{id:8,name:"Project Development Officer III"},{id:9,name:"Cyber Security Officer I"},{id:10,name:"Cyber Security Officer II"},{id:11,name:"Cyber Security Officer III"}]})]}),e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("label",{className:" text-textW mb-1",children:" Email Address "}),e.jsx("input",{className:" w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"email",name:"email",value:s.email,onChange:t=>{a({...s,email:t.target.value})},required:!0})]}),e.jsxs("div",{className:"flex  sm:flex-col flex-row w-full sm-gap-0 gap-3",children:[e.jsxs("div",{className:" w-full flex flex-col",children:[e.jsx("label",{className:" text-textW mt-3 mb-1",children:" Password "}),e.jsx("input",{className:"w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"password",name:"password",value:s.password,onChange:t=>{a({...s,password:t.target.value})},required:!0}),o?e.jsx("p",{className:"text-[12px] text-[#15ff00] text-justify mt-2 ",children:"Valid Password"}):e.jsx("p",{className:"text-[12px] text-[#ff4400] text-justify mt-2 ",children:"8-character password with numbers"})]}),e.jsxs("div",{className:" w-full flex flex-col bg sm:mt-[-16px]",children:[e.jsx("label",{className:" text-textW mt-3 mb-1",children:" Confirm Password "}),e.jsx("input",{className:"w-full h-[40px] text-textW bg-blue2 border-[1px] outline-0 focus:border-[2px] focus:border-textW shadow-inner rounded-[5px] pl-4 ",type:"password",name:"re_password",value:s.re_password,onChange:t=>{a({...s,re_password:t.target.value}),f(!0)},required:!0}),d&&(s.password==s.re_password&&s.password.length!=0?e.jsx("p",{className:"text-[12px] text-[#1aff00] text-justify mt-2",children:"Password matched."}):e.jsx("p",{className:"text-[12px] text-[#ff4400] text-justify mt-2",children:"Password doesn't match!"}))]})]}),e.jsx("div",{className:"w-full flex mt-3",children:e.jsx("p",{className:"text-white text-[11px] text-justify",children:"*By registering, you accept that your data are being stored in accordance with our privacy policy."})}),e.jsx("div",{className:"flex flex-col w-full",children:c?e.jsxs("button",{className:" pointer-events-none text-textW bg-yellow hover:bg-yellow/80 transition-all  duration-75 cursor-pointer text-[18px] w-full h-[45px] mt-6 rounded-full flex items-center justify-center gap-2 ",type:"submit",children:[" Loading ",e.jsx(P,{className:" animate-spin"})," "]}):e.jsx("button",{className:" w-full text-textW bg-yellow hover:bg-yellow/80 transition-all  duration-75 cursor-pointer text-[18px]  h-[45px] mt-2 rounded-full flex items-center justify-center gap-2 self-center",type:"submit",children:" Register Account "})}),e.jsx("hr",{className:"  border-none pb-6"}),e.jsx("div",{className:" flex w-full min-h-[10px] justify-center items-center",children:e.jsxs(h,{to:"/dts/login",className:" text-sm text-accent",children:["Already have an Account? ",e.jsx("b",{className:" hover:underline",children:"Sign In now"})]})})]})]}),e.jsx("hr",{className:"  border-none pb-6"})]})]})}export{k as default};
