import{r as m,j as e,u as g}from"./index-b1c7104b.js";import{I as r}from"./Input-e75af7b3.js";import{a as p}from"./axios-82afda87.js";import{S as u,a as x,b as h,c as b,d as v}from"./select-d4b0c31a.js";import{S as I}from"./sweetalert2.all-d90f7d9c.js";import{L as j}from"./loader-2-8dfb375f.js";import"./chevron-down-dcbeb83a.js";const R=({className:c,label:d,options:o,setData:s,value:a})=>{const[,n]=m.useState(""),t=i=>{const l=o.find(f=>f.name===i);l&&(s(l.name),console.log(l),n(i))};return e.jsxs("div",{className:c+"w-full flex flex-col gap-1 text-xs",children:[e.jsx("p",{className:"  mb-1 truncate",children:d}),e.jsxs(u,{required:!0,value:a,onValueChange:t,children:[e.jsx(x,{className:"  w-full h-[40px] outline-0 border border-blue/50 shadow-inner rounded-md pl-4",children:e.jsx(h,{placeholder:"Select Position..."})}),e.jsx(b,{children:o.map(i=>e.jsx(v,{value:i.name,children:i.name}))})]})]})},M=()=>{const c=g(),[d,o]=m.useState(""),s=JSON.parse(localStorage.getItem("selectedOffice")||""),[a,n]=m.useState({name:s.name,officeMail:s.officeMail,street:s.street,city:s.city,province:s.province,region:s.region});return m.useEffect(()=>{console.table(a)},[a]),e.jsx("div",{className:" w-full h-[100vh] bg-blue3 flex justify-center items-center",children:e.jsxs("div",{className:" w-[90%]  sm:h-[95%] sm:w-[90%]  overflow-hidden bg-white rounded-md drop-shadow-glow flex flex-col p-10 sm:p-5 gap-10 sm:gap-5",children:[e.jsxs("div",{className:" sm:gap-5 flex flex-row sm:flex-col items-center w-full sm:items-start justify-between",children:[e.jsxs("div",{className:"div1",children:[e.jsx("h1",{className:"text-black font-poppins font-bold  w-[200px] text-lg eading-normal tracking-tight",children:" Edit Office"}),e.jsx("p",{className:"text-teal-500 font-poppins text-m text-base font-normal leading-normal tracking-tight ",children:" Update Office"})]}),e.jsx("div",{className:"  flex sm:flex-col items-center gap-5 sm:justify-between w-full justify-end  relative sm:gap-5 sm:items-start  ",children:e.jsx("button",{className:`\r
                    rounded-[5px] truncate border-2 border-red-600 hover:bg-bgG/10 transition-all duration-200 bg-red-600/20  text-red-600 px-5 py-1 font-medium text-xs\r
                `,onClick:()=>{n({name:"",officeMail:"",street:"",city:"",province:"",region:""}),localStorage.setItem("selectedOffice",""),c("/dts/admin/offices")},children:"Cancel"})})]}),e.jsxs("form",{onSubmit:t=>{t.preventDefault(),o("spin");let i=JSON.parse(localStorage.getItem("selectedOffice")||""),l=i?i.officeID:null;try{p.put("office/"+l+"/",a,{headers:{Authorization:`Token ${localStorage.getItem("keys")}`}}).then(()=>{setTimeout(()=>{I.fire({icon:"success",title:"Successfully updated the office",showConfirmButton:!1,timer:1500})},1e3),setTimeout(()=>{o(""),n({name:"",officeMail:"",street:"",city:"",province:"",region:""}),localStorage.setItem("getOfficeID",""),c("/dts/admin/offices")},2e3),console.log("Updated Office Details")})}catch(f){console.error(f)}},className:" grid grid-cols-3 gap-5 sm:gap-2 items-end",children:[e.jsx(r,{label:"Bureau",span:" col-span-1 sm:col-span-3",value:a.name,onChange:t=>n({...a,name:t.target.value})}),e.jsx(r,{type:"email",label:"Office Email",placeholder:"antonioluna@gmail.com",span:" col-span-1 sm:col-span-3 md:col-span-3",value:a.officeMail,onChange:t=>n({...a,officeMail:t.target.value})}),e.jsx(r,{label:"Street/Barangay",span:" col-span-1 sm:col-span-3",value:a.street,onChange:t=>n({...a,street:t.target.value})}),e.jsx(r,{label:"City",span:" col-span-1 sm:col-span-3",value:a.city,onChange:t=>n({...a,city:t.target.value})}),e.jsx(r,{label:"Province",span:" col-span-1 sm:col-span-3",value:a.province,onChange:t=>n({...a,province:t.target.value})}),e.jsx(R,{label:"Select Region",className:"cursor-pointer col-span-1 sm:col-span-3 md:col-span-3 ",setData:t=>n({...a,region:t}),value:a.region,options:[{id:1,name:"Region I - Ilocos Region"},{id:2,name:"Region II - Cagayan Valley"},{id:3,name:"Region III - Central Luzon"},{id:4,name:"Region IV-A - CALABARZON"},{id:5,name:"Region IV-B - MIMAROPA"},{id:6,name:"Region V - Bicol Region"},{id:7,name:"Region VI - Western Visayas"},{id:8,name:"Region VII - Central Visayas"},{id:9,name:"Region VIII - Eastern Visayas"},{id:10,name:"Region IX - Zamboanga Peninsula"},{id:11,name:"Region X - Northern Mindanao"},{id:12,name:"Region XI - Davao Region"},{id:13,name:"Region XII - SOCCSKSARGEN"},{id:14,name:"Region XIII - Caraga"},{id:15,name:"National Capital Region (NCR)"},{id:16,name:"Cordillera Administrative Region (CAR)"},{id:17,name:"Bangsamoro Autonomous Region in Muslim Mindanao (BARMM)"}]}),e.jsx("div",{className:"flex flex-col w-full col-span-3 ",children:d?e.jsxs("button",{className:" pointer-events-none text-textW bg-bgG hover:bg-bgG/10  transition-all  duration-75 cursor-pointer text-[18px] w-full h-[45px] mt-6 rounded-full flex items-center justify-center gap-2 ",type:"submit",children:[" Loading ",e.jsx(j,{className:" animate-spin"})," "]}):e.jsx("button",{type:"submit",className:`  w-full rounded-[5px] truncate border-2 border-textG hover:bg-bgG/10 transition-all duration-200 bg-bgG mt-6 text-textG px-5 py-1 font-medium text-md\r
                `,children:" Update Office"})})]})]})})};export{M as default};
